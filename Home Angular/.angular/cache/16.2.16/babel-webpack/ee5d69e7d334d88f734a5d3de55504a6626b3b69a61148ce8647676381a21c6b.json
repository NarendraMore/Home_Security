{"ast":null,"code":"import { environment } from 'src/environment/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/service.service\";\nclass DashboardComponent {\n  constructor(router, service) {\n    this.router = router;\n    this.service = service;\n    this.incidentDataArray = [];\n    this.searchText = '';\n    this.p = 1;\n  }\n  ngOnInit() {\n    this.service.getIncedeentData().subscribe(incidentData => {\n      this.incidentDataArray = incidentData.incidents;\n      console.log('incidentData', this.incidentDataArray);\n      if (this.incidentDataArray.length === 0) {\n        this.p = 0;\n      }\n    });\n  }\n  onclickLogout() {\n    this.router.navigate(['/login']);\n  }\n  filteredData() {\n    if (!this.searchText) {\n      return this.incidentDataArray;\n    }\n    return this.incidentDataArray.filter(item => Object.values(item).some(val => val.toString().toLowerCase().includes(this.searchText.toLowerCase())));\n  }\n  onshowImage(imageId) {\n    this.incidentImageUrl = `${environment.url}/getLatestImage/${imageId}`;\n    console.log(this.incidentImageUrl); // Check the URL in the console\n  }\n\n  onshowVideo(videoId) {\n    this.incidentVideoUrl = `${environment.url}/getIncidentVideo/${videoId}`;\n    console.log(this.incidentVideoUrl); // Check the URL in the console\n  }\n\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ServiceService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 2,\n      vars: 0,\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"dashboard works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}\nexport { DashboardComponent };","map":{"version":3,"names":["environment","DashboardComponent","constructor","router","service","incidentDataArray","searchText","p","ngOnInit","getIncedeentData","subscribe","incidentData","incidents","console","log","length","onclickLogout","navigate","filteredData","filter","item","Object","values","some","val","toString","toLowerCase","includes","onshowImage","imageId","incidentImageUrl","url","onshowVideo","videoId","incidentVideoUrl","i0","ɵɵdirectiveInject","i1","Router","i2","ServiceService","selectors","decls","vars","template","DashboardComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["D:\\Narendra\\Home-Security\\Home_angular\\src\\app\\components\\dashboard\\dashboard.component.ts","D:\\Narendra\\Home-Security\\Home_angular\\src\\app\\components\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ServiceService } from 'src/app/service/service.service';\nimport { environment } from 'src/environment/environment';\nexport interface inciedentdata {\n  incident_type: string;\n  time: string;\n  date: string;\n  _id: string;\n}\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent {\n\n  incidentDataArray: inciedentdata[] = [];\n  searchText: string = '';\n  p: number = 1;\n  incidentImageUrl: any;\n  incidentVideoUrl: any;\n  constructor(private router: Router, private service: ServiceService) {}\n  ngOnInit() {\n    this.service.getIncedeentData().subscribe((incidentData: any) => {\n      this.incidentDataArray = incidentData.incidents;\n      console.log('incidentData', this.incidentDataArray);\n\n      if (this.incidentDataArray.length === 0) {\n        this.p = 0; \n      }\n    });\n  }\n  onclickLogout() {\n    this.router.navigate(['/login']);\n  }\n  filteredData() {\n    if (!this.searchText) {\n      return this.incidentDataArray;\n    }\n    return this.incidentDataArray.filter((item) =>\n      Object.values(item).some((val) =>\n        val.toString().toLowerCase().includes(this.searchText.toLowerCase())\n      )\n    );\n  }\n\n  onshowImage(imageId: any) {\n    this.incidentImageUrl = `${environment.url}/getLatestImage/${imageId}`;\n    console.log(this.incidentImageUrl); // Check the URL in the console\n  }\n  onshowVideo(videoId: any) {\n    this.incidentVideoUrl = `${environment.url}/getIncidentVideo/${videoId}`;\n    console.log(this.incidentVideoUrl); // Check the URL in the console\n  }\n  \n}","<p>dashboard works!</p>\n"],"mappings":"AAGA,SAASA,WAAW,QAAQ,6BAA6B;;;;AAQzD,MAKaC,kBAAkB;EAO7BC,YAAoBC,MAAc,EAAUC,OAAuB;IAA/C,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,OAAO,GAAPA,OAAO;IALnD,KAAAC,iBAAiB,GAAoB,EAAE;IACvC,KAAAC,UAAU,GAAW,EAAE;IACvB,KAAAC,CAAC,GAAW,CAAC;EAGyD;EACtEC,QAAQA,CAAA;IACN,IAAI,CAACJ,OAAO,CAACK,gBAAgB,EAAE,CAACC,SAAS,CAAEC,YAAiB,IAAI;MAC9D,IAAI,CAACN,iBAAiB,GAAGM,YAAY,CAACC,SAAS;MAC/CC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE,IAAI,CAACT,iBAAiB,CAAC;MAEnD,IAAI,IAAI,CAACA,iBAAiB,CAACU,MAAM,KAAK,CAAC,EAAE;QACvC,IAAI,CAACR,CAAC,GAAG,CAAC;;IAEd,CAAC,CAAC;EACJ;EACAS,aAAaA,CAAA;IACX,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EACAC,YAAYA,CAAA;IACV,IAAI,CAAC,IAAI,CAACZ,UAAU,EAAE;MACpB,OAAO,IAAI,CAACD,iBAAiB;;IAE/B,OAAO,IAAI,CAACA,iBAAiB,CAACc,MAAM,CAAEC,IAAI,IACxCC,MAAM,CAACC,MAAM,CAACF,IAAI,CAAC,CAACG,IAAI,CAAEC,GAAG,IAC3BA,GAAG,CAACC,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACrB,UAAU,CAACoB,WAAW,EAAE,CAAC,CACrE,CACF;EACH;EAEAE,WAAWA,CAACC,OAAY;IACtB,IAAI,CAACC,gBAAgB,GAAG,GAAG9B,WAAW,CAAC+B,GAAG,mBAAmBF,OAAO,EAAE;IACtEhB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACgB,gBAAgB,CAAC,CAAC,CAAC;EACtC;;EACAE,WAAWA,CAACC,OAAY;IACtB,IAAI,CAACC,gBAAgB,GAAG,GAAGlC,WAAW,CAAC+B,GAAG,qBAAqBE,OAAO,EAAE;IACxEpB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACoB,gBAAgB,CAAC,CAAC,CAAC;EACtC;;;;uBAvCWjC,kBAAkB,EAAAkC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA;IAAA;EAAA;;;YAAlBvC,kBAAkB;MAAAwC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UChB/BX,EAAA,CAAAa,cAAA,QAAG;UAAAb,EAAA,CAAAc,MAAA,uBAAgB;UAAAd,EAAA,CAAAe,YAAA,EAAI;;;;;;;SDgBVjD,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}